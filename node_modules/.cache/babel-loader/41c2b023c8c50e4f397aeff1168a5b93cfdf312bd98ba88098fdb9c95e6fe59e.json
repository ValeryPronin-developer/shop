{"ast":null,"code":"import React,{useState}from'react';import{getInitialStateFromLs}from'../../../helpers/GetInitialStateFromLs';import{setValueInLs}from'../../../helpers/setValueInLs';import{FavoriteContext}from'../../../context/FavoriteContext';import{jsx as _jsx}from\"react/jsx-runtime\";const PRODUCT_IN_HEART='PRODUCT_IN_HEART';const FavoriteProvider=_ref=>{let{children}=_ref;const[favoriteItems,setFavoriteItems]=useState(getInitialStateFromLs(PRODUCT_IN_HEART));const favoriteCount=favoriteItems.length;const toggleFavorite=product=>{setFavoriteItems(prevFavoriteItems=>{const updatedFavorites=[...prevFavoriteItems];const isFavorite=updatedFavorites.some(item=>item.id===product.id);if(isFavorite){const newFavorites=updatedFavorites.filter(item=>item.id!==product.id);setValueInLs(PRODUCT_IN_HEART,updatedFavorites);return newFavorites;}else{updatedFavorites.push(product);setValueInLs(PRODUCT_IN_HEART,updatedFavorites);return updatedFavorites;}});};return/*#__PURE__*/_jsx(FavoriteContext.Provider,{value:{favoriteItems,favoriteCount,toggleFavorite},children:children});};export default FavoriteProvider;","map":{"version":3,"names":["React","useState","getInitialStateFromLs","setValueInLs","FavoriteContext","jsx","_jsx","PRODUCT_IN_HEART","FavoriteProvider","_ref","children","favoriteItems","setFavoriteItems","favoriteCount","length","toggleFavorite","product","prevFavoriteItems","updatedFavorites","isFavorite","some","item","id","newFavorites","filter","push","Provider","value"],"sources":["/Users/valerypronin/Desktop/reactproject/react-project2/src/components/Providers/FavoriteProvider/FavoriteProvider.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { getInitialStateFromLs } from '../../../helpers/GetInitialStateFromLs'\nimport { setValueInLs } from '../../../helpers/setValueInLs'\nimport { FavoriteContext } from '../../../context/FavoriteContext'\n\nconst PRODUCT_IN_HEART = 'PRODUCT_IN_HEART'\n\nconst FavoriteProvider = ({ children }) => {\n  const [favoriteItems, setFavoriteItems] = useState(getInitialStateFromLs(PRODUCT_IN_HEART))\n\n  const favoriteCount = favoriteItems.length\n\n  const toggleFavorite = (product) => {\n    setFavoriteItems((prevFavoriteItems) => {\n      const updatedFavorites = [...prevFavoriteItems]\n      const isFavorite = updatedFavorites.some(item => item.id === product.id)\n\n      if (isFavorite) {\n        const newFavorites = updatedFavorites.filter(item => item.id !== product.id)\n        setValueInLs(PRODUCT_IN_HEART, updatedFavorites)\n        return newFavorites\n      } else {\n        updatedFavorites.push(product)\n        setValueInLs(PRODUCT_IN_HEART, updatedFavorites)\n        return updatedFavorites\n      }\n    })\n  }\n\n  return (\n    <FavoriteContext.Provider value={{ favoriteItems, favoriteCount, toggleFavorite }}>\n      {children}\n    </FavoriteContext.Provider>\n  )\n}\n\nexport default FavoriteProvider"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,qBAAqB,KAAQ,wCAAwC,CAC9E,OAASC,YAAY,KAAQ,+BAA+B,CAC5D,OAASC,eAAe,KAAQ,kCAAkC,QAAAC,GAAA,IAAAC,IAAA,yBAElE,KAAM,CAAAC,gBAAgB,CAAG,kBAAkB,CAE3C,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACpC,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAACC,qBAAqB,CAACK,gBAAgB,CAAC,CAAC,CAE3F,KAAM,CAAAM,aAAa,CAAGF,aAAa,CAACG,MAAM,CAE1C,KAAM,CAAAC,cAAc,CAAIC,OAAO,EAAK,CAClCJ,gBAAgB,CAAEK,iBAAiB,EAAK,CACtC,KAAM,CAAAC,gBAAgB,CAAG,CAAC,GAAGD,iBAAiB,CAAC,CAC/C,KAAM,CAAAE,UAAU,CAAGD,gBAAgB,CAACE,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKN,OAAO,CAACM,EAAE,CAAC,CAExE,GAAIH,UAAU,CAAE,CACd,KAAM,CAAAI,YAAY,CAAGL,gBAAgB,CAACM,MAAM,CAACH,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKN,OAAO,CAACM,EAAE,CAAC,CAC5EnB,YAAY,CAACI,gBAAgB,CAAEW,gBAAgB,CAAC,CAChD,MAAO,CAAAK,YAAY,CACrB,CAAC,IAAM,CACLL,gBAAgB,CAACO,IAAI,CAACT,OAAO,CAAC,CAC9Bb,YAAY,CAACI,gBAAgB,CAAEW,gBAAgB,CAAC,CAChD,MAAO,CAAAA,gBAAgB,CACzB,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACEZ,IAAA,CAACF,eAAe,CAACsB,QAAQ,EAACC,KAAK,CAAE,CAAEhB,aAAa,CAAEE,aAAa,CAAEE,cAAe,CAAE,CAAAL,QAAA,CAC/EA,QAAQ,CACe,CAAC,CAE/B,CAAC,CAED,cAAe,CAAAF,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}