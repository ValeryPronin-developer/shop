{"ast":null,"code":"import React,{useState,useContext}from'react';import{CartContext}from'../../context/CartContext';import ProductsInCart from'./components/ProductsInCart/ProductInCart';import Order from'./components/Order/Order';import PromoCode from'./components/PromoCode/PromoCode';import'./Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=()=>{const[promoCode,setPromoCode]=useState('');const[discount,setDiscount]=useState(0);const{cartItems,removeFromCart,updateQuantity,cartCount}=useContext(CartContext);const handleApplyPromoCode=()=>{if(promoCode==='ilovereact'){setDiscount(0.1);}else{setDiscount(0);}};const calculateTotalPrice=()=>{return cartItems.reduce((total,item)=>total+item.price*(item.quantity||1),0);};const totalPrice=calculateTotalPrice();const discountedPrice=totalPrice*(1-discount);const deliveryPrice=15;const finalPrice=discountedPrice+deliveryPrice;const handleCheckout=()=>{const orderDetails={items:cartItems.map(item=>({id:item.id,name:item.name,quantity:item.quantity,price:item.price,totalPrice:(item.price*(item.quantity||1)).toFixed(2)})),promoCode:promoCode,discount:discount,deliveryPrice:deliveryPrice,finalPrice:finalPrice.toFixed(2)};console.log('Order details:',orderDetails);};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-wrapper\",children:[/*#__PURE__*/_jsx(ProductsInCart,{cartCount:cartCount,cartItems:cartItems,updateQuantity:updateQuantity,removeFromCart:removeFromCart}),/*#__PURE__*/_jsx(Order,{discountedPrice:discountedPrice,deliveryPrice:deliveryPrice,discount:discount,finalPrice:finalPrice,handleCheckout:handleCheckout})]}),/*#__PURE__*/_jsx(PromoCode,{promoCode:promoCode,setPromoCode:setPromoCode,handleApplyPromoCode:handleApplyPromoCode})]})});};export default Cart;","map":{"version":3,"names":["React","useState","useContext","CartContext","ProductsInCart","Order","PromoCode","jsx","_jsx","jsxs","_jsxs","Cart","promoCode","setPromoCode","discount","setDiscount","cartItems","removeFromCart","updateQuantity","cartCount","handleApplyPromoCode","calculateTotalPrice","reduce","total","item","price","quantity","totalPrice","discountedPrice","deliveryPrice","finalPrice","handleCheckout","orderDetails","items","map","id","name","toFixed","console","log","className","children"],"sources":["/Users/valerypronin/Desktop/reactproject/react-project2/src/components/Cart/Cart.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CartContext } from '../../context/CartContext';\nimport ProductsInCart from './components/ProductsInCart/ProductInCart';\nimport Order from './components/Order/Order';\nimport PromoCode from './components/PromoCode/PromoCode';\n\nimport './Cart.css';\n\nconst Cart = () => {\n  const [promoCode, setPromoCode] = useState('')\n  const [discount, setDiscount] = useState(0)\n  const { cartItems, removeFromCart, updateQuantity, cartCount } = useContext(CartContext)\n\n  const handleApplyPromoCode = () => {\n    if (promoCode === 'ilovereact') {\n      setDiscount(0.1)\n    } else {\n      setDiscount(0)\n    }\n  }\n\n  const calculateTotalPrice = () => {\n    return cartItems.reduce((total, item) => total + (item.price * (item.quantity || 1)), 0)\n  }\n  const totalPrice = calculateTotalPrice()\n  const discountedPrice = totalPrice * (1 - discount)\n  const deliveryPrice = 15\n  const finalPrice = discountedPrice + deliveryPrice\n\n  const handleCheckout = () => {\n    const orderDetails = {\n      items: cartItems.map(item => ({\n        id: item.id,\n        name: item.name,\n        quantity: item.quantity,\n        price: item.price,\n        totalPrice: (item.price * (item.quantity || 1)).toFixed(2),\n      })),\n      promoCode: promoCode,\n      discount: discount,\n      deliveryPrice: deliveryPrice,\n      finalPrice: finalPrice.toFixed(2),\n    }\n    console.log('Order details:', orderDetails)\n  }\n\n  return (\n\n    <div className=\"container\">\n      <div className=\"cart\">\n        <div className=\"order-wrapper\">\n          <ProductsInCart cartCount={cartCount} cartItems={cartItems} updateQuantity={updateQuantity} removeFromCart={removeFromCart} />\n          <Order discountedPrice={discountedPrice} deliveryPrice={deliveryPrice} discount={discount} finalPrice={finalPrice} handleCheckout={handleCheckout} />\n        </div>\n        <PromoCode promoCode={promoCode} setPromoCode={setPromoCode} handleApplyPromoCode={handleApplyPromoCode} />\n      </div>\n    </div>\n  )\n}\n\nexport default Cart"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}