{"ast":null,"code":"export const filterProducts=(products,filters)=>{const{category,minPrice,maxPrice,selectedColors}=filters;return products.filter(product=>{const matchesCategory=category==='All'||product.categories.includes(category);const matchesPrice=(!minPrice||product.price>=parseFloat(minPrice))&&(!maxPrice||product.price<=parseFloat(maxPrice));const matchesColor=selectedColors.length===0||selectedColors.includes(product.color);return matchesCategory&&matchesPrice&&matchesColor;});};export const searchProducts=(products,searchQuery)=>{const query=typeof searchQuery==='string'?searchQuery.toLowerCase():'';return products.filter(product=>product.name.toLowerCase().includes(query));};export const sortProducts=(products,sortOrder)=>{return[...products].sort((a,b)=>{switch(sortOrder){case'ASC':return a.name.localeCompare(b.name);case'DESC':return b.name.localeCompare(a.name);case'low':return a.price-b.price;case'high':return b.price-a.price;default:return 0;}});};export const getProductsToDisplay=function(products,currentPage){let productsPerPage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:12;const startIndex=(currentPage-1)*productsPerPage;const endIndex=startIndex+productsPerPage;return products.slice(startIndex,endIndex);};export const calculateTotalPages=function(totalProducts){let productsPerPage=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;return Math.ceil(totalProducts/productsPerPage);};// export const handleLocalStorageUpdate = (key, updateFunction) => {\n//     let data = JSON.parse(localStorage.getItem(key)) || []\n//     updateFunction(data)\n//     localStorage.setItem(key, JSON.stringify(data))\n// }\nexport const modifyData=(products,_ref)=>{let{search,filters,sort,currentPage}=_ref;const filteredProducts=filterProducts(products,filters);const searchedProducts=searchProducts(filteredProducts,search);const sortedProducts=sortProducts(searchedProducts,sort);const totalFilteredProducts=sortedProducts.length;const productsToDisplay=getProductsToDisplay(sortedProducts,currentPage);return{filteredProducts:productsToDisplay,totalPages:calculateTotalPages(totalFilteredProducts),totalFilteredProducts};};","map":{"version":3,"names":["filterProducts","products","filters","category","minPrice","maxPrice","selectedColors","filter","product","matchesCategory","categories","includes","matchesPrice","price","parseFloat","matchesColor","length","color","searchProducts","searchQuery","query","toLowerCase","name","sortProducts","sortOrder","sort","a","b","localeCompare","getProductsToDisplay","currentPage","productsPerPage","arguments","undefined","startIndex","endIndex","slice","calculateTotalPages","totalProducts","Math","ceil","modifyData","_ref","search","filteredProducts","searchedProducts","sortedProducts","totalFilteredProducts","productsToDisplay","totalPages"],"sources":["/Users/valerypronin/Desktop/reactproject/react-project2/src/helpers/ShopFilters.js"],"sourcesContent":["export const filterProducts = (products, filters) => {\n    const { category, minPrice, maxPrice, selectedColors } = filters\n    return products.filter(product => {\n        const matchesCategory = category === 'All' || product.categories.includes(category)\n        const matchesPrice = (!minPrice || product.price >= parseFloat(minPrice)) &&\n            (!maxPrice || product.price <= parseFloat(maxPrice))\n        const matchesColor = selectedColors.length === 0 || selectedColors.includes(product.color)\n\n        return matchesCategory && matchesPrice && matchesColor\n    })\n}\n\nexport const searchProducts = (products, searchQuery) => {\n    const query = typeof searchQuery === 'string' ? searchQuery.toLowerCase() : ''\n    return products.filter(product =>\n        product.name.toLowerCase().includes(query)\n    )\n}\n\nexport const sortProducts = (products, sortOrder) => {\n    return [...products].sort((a, b) => {\n        switch (sortOrder) {\n            case 'ASC':\n                return a.name.localeCompare(b.name)\n            case 'DESC':\n                return b.name.localeCompare(a.name)\n            case 'low':\n                return a.price - b.price\n            case 'high':\n                return b.price - a.price\n            default:\n                return 0\n        }\n    })\n}\n\nexport const getProductsToDisplay = (products, currentPage, productsPerPage = 12) => {\n    const startIndex = (currentPage - 1) * productsPerPage\n    const endIndex = startIndex + productsPerPage\n    return products.slice(startIndex, endIndex)\n}\n\nexport const calculateTotalPages = (totalProducts, productsPerPage = 12) => {\n    return Math.ceil(totalProducts / productsPerPage)\n}\n\n// export const handleLocalStorageUpdate = (key, updateFunction) => {\n//     let data = JSON.parse(localStorage.getItem(key)) || []\n//     updateFunction(data)\n//     localStorage.setItem(key, JSON.stringify(data))\n// }\n\nexport const modifyData = (products, { search, filters, sort, currentPage }) => {\n    const filteredProducts = filterProducts(products, filters)\n    const searchedProducts = searchProducts(filteredProducts, search)\n    const sortedProducts = sortProducts(searchedProducts, sort)\n    const totalFilteredProducts = sortedProducts.length\n    const productsToDisplay = getProductsToDisplay(sortedProducts, currentPage)\n\n    return {\n        filteredProducts: productsToDisplay,\n        totalPages: calculateTotalPages(totalFilteredProducts),\n        totalFilteredProducts\n    }\n}"],"mappings":"AAAA,MAAO,MAAM,CAAAA,cAAc,CAAGA,CAACC,QAAQ,CAAEC,OAAO,GAAK,CACjD,KAAM,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,cAAe,CAAC,CAAGJ,OAAO,CAChE,MAAO,CAAAD,QAAQ,CAACM,MAAM,CAACC,OAAO,EAAI,CAC9B,KAAM,CAAAC,eAAe,CAAGN,QAAQ,GAAK,KAAK,EAAIK,OAAO,CAACE,UAAU,CAACC,QAAQ,CAACR,QAAQ,CAAC,CACnF,KAAM,CAAAS,YAAY,CAAG,CAAC,CAACR,QAAQ,EAAII,OAAO,CAACK,KAAK,EAAIC,UAAU,CAACV,QAAQ,CAAC,IACnE,CAACC,QAAQ,EAAIG,OAAO,CAACK,KAAK,EAAIC,UAAU,CAACT,QAAQ,CAAC,CAAC,CACxD,KAAM,CAAAU,YAAY,CAAGT,cAAc,CAACU,MAAM,GAAK,CAAC,EAAIV,cAAc,CAACK,QAAQ,CAACH,OAAO,CAACS,KAAK,CAAC,CAE1F,MAAO,CAAAR,eAAe,EAAIG,YAAY,EAAIG,YAAY,CAC1D,CAAC,CAAC,CACN,CAAC,CAED,MAAO,MAAM,CAAAG,cAAc,CAAGA,CAACjB,QAAQ,CAAEkB,WAAW,GAAK,CACrD,KAAM,CAAAC,KAAK,CAAG,MAAO,CAAAD,WAAW,GAAK,QAAQ,CAAGA,WAAW,CAACE,WAAW,CAAC,CAAC,CAAG,EAAE,CAC9E,MAAO,CAAApB,QAAQ,CAACM,MAAM,CAACC,OAAO,EAC1BA,OAAO,CAACc,IAAI,CAACD,WAAW,CAAC,CAAC,CAACV,QAAQ,CAACS,KAAK,CAC7C,CAAC,CACL,CAAC,CAED,MAAO,MAAM,CAAAG,YAAY,CAAGA,CAACtB,QAAQ,CAAEuB,SAAS,GAAK,CACjD,MAAO,CAAC,GAAGvB,QAAQ,CAAC,CAACwB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChC,OAAQH,SAAS,EACb,IAAK,KAAK,CACN,MAAO,CAAAE,CAAC,CAACJ,IAAI,CAACM,aAAa,CAACD,CAAC,CAACL,IAAI,CAAC,CACvC,IAAK,MAAM,CACP,MAAO,CAAAK,CAAC,CAACL,IAAI,CAACM,aAAa,CAACF,CAAC,CAACJ,IAAI,CAAC,CACvC,IAAK,KAAK,CACN,MAAO,CAAAI,CAAC,CAACb,KAAK,CAAGc,CAAC,CAACd,KAAK,CAC5B,IAAK,MAAM,CACP,MAAO,CAAAc,CAAC,CAACd,KAAK,CAAGa,CAAC,CAACb,KAAK,CAC5B,QACI,MAAO,EAAC,CAChB,CACJ,CAAC,CAAC,CACN,CAAC,CAED,MAAO,MAAM,CAAAgB,oBAAoB,CAAG,QAAAA,CAAC5B,QAAQ,CAAE6B,WAAW,CAA2B,IAAzB,CAAAC,eAAe,CAAAC,SAAA,CAAAhB,MAAA,IAAAgB,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,EAAE,CAC5E,KAAM,CAAAE,UAAU,CAAG,CAACJ,WAAW,CAAG,CAAC,EAAIC,eAAe,CACtD,KAAM,CAAAI,QAAQ,CAAGD,UAAU,CAAGH,eAAe,CAC7C,MAAO,CAAA9B,QAAQ,CAACmC,KAAK,CAACF,UAAU,CAAEC,QAAQ,CAAC,CAC/C,CAAC,CAED,MAAO,MAAM,CAAAE,mBAAmB,CAAG,QAAAA,CAACC,aAAa,CAA2B,IAAzB,CAAAP,eAAe,CAAAC,SAAA,CAAAhB,MAAA,IAAAgB,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,EAAE,CACnE,MAAO,CAAAO,IAAI,CAACC,IAAI,CAACF,aAAa,CAAGP,eAAe,CAAC,CACrD,CAAC,CAED;AACA;AACA;AACA;AACA;AAEA,MAAO,MAAM,CAAAU,UAAU,CAAGA,CAACxC,QAAQ,CAAAyC,IAAA,GAA6C,IAA3C,CAAEC,MAAM,CAAEzC,OAAO,CAAEuB,IAAI,CAAEK,WAAY,CAAC,CAAAY,IAAA,CACvE,KAAM,CAAAE,gBAAgB,CAAG5C,cAAc,CAACC,QAAQ,CAAEC,OAAO,CAAC,CAC1D,KAAM,CAAA2C,gBAAgB,CAAG3B,cAAc,CAAC0B,gBAAgB,CAAED,MAAM,CAAC,CACjE,KAAM,CAAAG,cAAc,CAAGvB,YAAY,CAACsB,gBAAgB,CAAEpB,IAAI,CAAC,CAC3D,KAAM,CAAAsB,qBAAqB,CAAGD,cAAc,CAAC9B,MAAM,CACnD,KAAM,CAAAgC,iBAAiB,CAAGnB,oBAAoB,CAACiB,cAAc,CAAEhB,WAAW,CAAC,CAE3E,MAAO,CACHc,gBAAgB,CAAEI,iBAAiB,CACnCC,UAAU,CAAEZ,mBAAmB,CAACU,qBAAqB,CAAC,CACtDA,qBACJ,CAAC,CACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}