{"ast":null,"code":"var _jsxFileName = \"/Users/valerypronin/Desktop/reactproject/react-project2/src/components/Cart/Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { CartContext } from '../../context/CartContext';\nimport ProductsInCart from './components/ProductsInCart/ProductInCart';\nimport Order from './components/Order/Order';\nimport PromoCode from './components/PromoCode/PromoCode';\nimport './Cart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const [promoCode, setPromoCode] = useState('');\n  const [discount, setDiscount] = useState(0);\n  const {\n    cartItems,\n    removeFromCart,\n    updateQuantity,\n    cartCount\n  } = useContext(CartContext);\n  const handleApplyPromoCode = () => {\n    if (promoCode === 'ilovereact') {\n      setDiscount(0.1);\n    } else {\n      setDiscount(0);\n    }\n  };\n  const calculateTotalPrice = () => {\n    return cartItems.reduce((total, item) => total + item.price * (item.quantity || 1), 0);\n  };\n  const totalPrice = calculateTotalPrice();\n  const discountedPrice = totalPrice * (1 - discount);\n  const deliveryPrice = 15;\n  const finalPrice = discountedPrice + deliveryPrice;\n  const handleCheckout = () => {\n    const orderDetails = {\n      items: cartItems.map(item => ({\n        id: item.id,\n        name: item.name,\n        quantity: item.quantity,\n        price: item.price,\n        totalPrice: (item.price * (item.quantity || 1)).toFixed(2)\n      })),\n      promoCode: promoCode,\n      discount: discount,\n      deliveryPrice: deliveryPrice,\n      finalPrice: finalPrice.toFixed(2)\n    };\n    console.log('Order details:', orderDetails);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(ProductsInCart, {\n          cartCount: cartCount,\n          cartItems: cartItems,\n          updateQuantity: updateQuantity,\n          removeFromCart: removeFromCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Order, {\n          discountedPrice: discountedPrice,\n          deliveryPrice: deliveryPrice,\n          discount: discount,\n          finalPrice: finalPrice,\n          handleCheckout: handleCheckout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PromoCode, {\n        promoCode: promoCode,\n        setPromoCode: setPromoCode,\n        handleApplyPromoCode: handleApplyPromoCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"PbKzDFG9T/sI2e8vZnzFLi4wtw0=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useContext","CartContext","ProductsInCart","Order","PromoCode","jsxDEV","_jsxDEV","Cart","_s","promoCode","setPromoCode","discount","setDiscount","cartItems","removeFromCart","updateQuantity","cartCount","handleApplyPromoCode","calculateTotalPrice","reduce","total","item","price","quantity","totalPrice","discountedPrice","deliveryPrice","finalPrice","handleCheckout","orderDetails","items","map","id","name","toFixed","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/valerypronin/Desktop/reactproject/react-project2/src/components/Cart/Cart.jsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { CartContext } from '../../context/CartContext';\nimport ProductsInCart from './components/ProductsInCart/ProductInCart';\nimport Order from './components/Order/Order';\nimport PromoCode from './components/PromoCode/PromoCode';\n\nimport './Cart.css';\n\nconst Cart = () => {\n  const [promoCode, setPromoCode] = useState('')\n  const [discount, setDiscount] = useState(0)\n  const { cartItems, removeFromCart, updateQuantity, cartCount } = useContext(CartContext)\n\n  const handleApplyPromoCode = () => {\n    if (promoCode === 'ilovereact') {\n      setDiscount(0.1)\n    } else {\n      setDiscount(0)\n    }\n  }\n\n  const calculateTotalPrice = () => {\n    return cartItems.reduce((total, item) => total + (item.price * (item.quantity || 1)), 0)\n  }\n  const totalPrice = calculateTotalPrice()\n  const discountedPrice = totalPrice * (1 - discount)\n  const deliveryPrice = 15\n  const finalPrice = discountedPrice + deliveryPrice\n\n  const handleCheckout = () => {\n    const orderDetails = {\n      items: cartItems.map(item => ({\n        id: item.id,\n        name: item.name,\n        quantity: item.quantity,\n        price: item.price,\n        totalPrice: (item.price * (item.quantity || 1)).toFixed(2),\n      })),\n      promoCode: promoCode,\n      discount: discount,\n      deliveryPrice: deliveryPrice,\n      finalPrice: finalPrice.toFixed(2),\n    }\n    console.log('Order details:', orderDetails)\n  }\n\n  return (\n\n    <div className=\"container\">\n      <div className=\"cart\">\n        <div className=\"order-wrapper\">\n          <ProductsInCart cartCount={cartCount} cartItems={cartItems} updateQuantity={updateQuantity} removeFromCart={removeFromCart} />\n          <Order discountedPrice={discountedPrice} deliveryPrice={deliveryPrice} discount={discount} finalPrice={finalPrice} handleCheckout={handleCheckout} />\n        </div>\n        <PromoCode promoCode={promoCode} setPromoCode={setPromoCode} handleApplyPromoCode={handleApplyPromoCode} />\n      </div>\n    </div>\n  )\n}\n\nexport default Cart"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}