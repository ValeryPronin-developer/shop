{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{ShopContext}from'../../../../../../context/ShopContext';import{modifyData}from'../../../../../../helpers/ShopFilters';import productsData from'../../../../../../products.json';import leftArrow from'../../../../../../assets/icons/left-pagin-arrow.svg';import rightArrow from'../../../../../../assets/icons/right-pagin-arrow.svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Pagination=()=>{const{productsInfo,setProductsInfo,currentPage,setCurrentPage,search,filters,sort}=useContext(ShopContext);// const handlePageChange = (page) => {\n//   if (page >= 1 && page <= productsInfo.totalPages) {\n//     setCurrentPage(page)\n//   }\n//   const { filteredProducts, totalFilteredProducts, totalPages } = modifyData(productsData.products, { search, filters, sort, currentPage: page })\n//   setProductsInfo({ filteredProducts, totalFilteredProducts, totalPages })\n// }\nuseEffect(()=>{const{filteredProducts,totalFilteredProducts,totalPages}=modifyData(productsData.products,{search,filters,sort,currentPage});if(totalFilteredProducts<=12&&currentPage!==1){setCurrentPage(1);}setProductsInfo({filteredProducts,totalFilteredProducts,totalPages});},[currentPage,search,filters,sort,setProductsInfo,setCurrentPage]);const handlePageChange=page=>{if(page>=1&&page<=productsInfo.totalPages){setCurrentPage(page);setTimeout(()=>{const productsContainer=document.querySelector('.products-wrapper');if(productsContainer){const displayedProducts=productsContainer.querySelectorAll('.product');if(displayedProducts.length<=9){productsContainer.scrollIntoView({behavior:'smooth',block:'start'});}}},1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",id:\"pagination\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button left \".concat(currentPage===1?'disabled':''),id:\"arrow-left\",onClick:()=>handlePageChange(currentPage-1),children:/*#__PURE__*/_jsx(\"img\",{src:leftArrow,alt:\"left pagin arrow\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pages js-pages\",children:Array.from({length:productsInfo.totalPages},(_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"page \".concat(currentPage===index+1?'active':''),\"data-index\":index,onClick:()=>handlePageChange(index+1),children:index+1},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"button right \".concat(currentPage===productsInfo.totalPages?'disabled':''),id:\"arrow-right\",onClick:()=>handlePageChange(currentPage+1),children:/*#__PURE__*/_jsx(\"img\",{src:rightArrow,alt:\"right pagin arrow\"})})]});};export default Pagination;","map":{"version":3,"names":["React","useContext","useEffect","ShopContext","modifyData","productsData","leftArrow","rightArrow","jsx","_jsx","jsxs","_jsxs","Pagination","productsInfo","setProductsInfo","currentPage","setCurrentPage","search","filters","sort","filteredProducts","totalFilteredProducts","totalPages","products","handlePageChange","page","setTimeout","productsContainer","document","querySelector","displayedProducts","querySelectorAll","length","scrollIntoView","behavior","block","className","id","children","concat","onClick","src","alt","Array","from","_","index"],"sources":["/Users/valerypronin/Desktop/reactproject/react-project2/src/components/Shop/components/ProductList/components/Pagination/Pagination.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport { ShopContext } from '../../../../../../context/ShopContext'\nimport { modifyData } from '../../../../../../helpers/ShopFilters'\nimport productsData from '../../../../../../products.json'\n\nimport leftArrow from '../../../../../../assets/icons/left-pagin-arrow.svg'\nimport rightArrow from '../../../../../../assets/icons/right-pagin-arrow.svg'\n\nconst Pagination = () => {\n  const { productsInfo, setProductsInfo, currentPage, setCurrentPage, search, filters, sort } = useContext(ShopContext)\n\n  // const handlePageChange = (page) => {\n  //   if (page >= 1 && page <= productsInfo.totalPages) {\n  //     setCurrentPage(page)\n  //   }\n\n  //   const { filteredProducts, totalFilteredProducts, totalPages } = modifyData(productsData.products, { search, filters, sort, currentPage: page })\n\n  //   setProductsInfo({ filteredProducts, totalFilteredProducts, totalPages })\n  // }\n\n  useEffect(() => {\n    const { filteredProducts, totalFilteredProducts, totalPages } = modifyData(productsData.products, { search, filters, sort, currentPage })\n\n    if (totalFilteredProducts <= 12 && currentPage !== 1) {\n      setCurrentPage(1)\n    }\n\n    setProductsInfo({ filteredProducts, totalFilteredProducts, totalPages })\n  }, [currentPage, search, filters, sort, setProductsInfo, setCurrentPage])\n\n  const handlePageChange = (page) => {\n    if (page >= 1 && page <= productsInfo.totalPages) {\n      setCurrentPage(page)\n\n      setTimeout(() => {\n        const productsContainer = document.querySelector('.products-wrapper')\n        if (productsContainer) {\n\n          const displayedProducts = productsContainer.querySelectorAll('.product')\n          if (displayedProducts.length <= 9) {\n            productsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' })\n          }\n        }\n      }, 1)\n    }\n  }\n\n  return (\n    <div className=\"pagination\" id=\"pagination\">\n      <div\n        className={`button left ${currentPage === 1 ? 'disabled' : ''}`}\n        id=\"arrow-left\"\n        onClick={() => handlePageChange(currentPage - 1)}\n      >\n        <img src={leftArrow} alt=\"left pagin arrow\" />\n      </div>\n\n      <div className=\"pages js-pages\">\n        {Array.from({ length: productsInfo.totalPages }, (_, index) => (\n          <div\n            key={index}\n            className={`page ${currentPage === index + 1 ? 'active' : ''}`}\n            data-index={index}\n            onClick={() => handlePageChange(index + 1)}\n          >\n            {index + 1}\n          </div>\n        ))}\n      </div>\n\n      <div\n        className={`button right ${currentPage === productsInfo.totalPages ? 'disabled' : ''}`}\n        id=\"arrow-right\"\n        onClick={() => handlePageChange(currentPage + 1)}\n      >\n        <img src={rightArrow} alt=\"right pagin arrow\" />\n      </div>\n    </div>\n  )\n}\n\nexport default Pagination"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,WAAW,KAAQ,uCAAuC,CACnE,OAASC,UAAU,KAAQ,uCAAuC,CAClE,MAAO,CAAAC,YAAY,KAAM,iCAAiC,CAE1D,MAAO,CAAAC,SAAS,KAAM,qDAAqD,CAC3E,MAAO,CAAAC,UAAU,KAAM,sDAAsD,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7E,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAEC,YAAY,CAAEC,eAAe,CAAEC,WAAW,CAAEC,cAAc,CAAEC,MAAM,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAGlB,UAAU,CAACE,WAAW,CAAC,CAErH;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAEkB,gBAAgB,CAAEC,qBAAqB,CAAEC,UAAW,CAAC,CAAGlB,UAAU,CAACC,YAAY,CAACkB,QAAQ,CAAE,CAAEN,MAAM,CAAEC,OAAO,CAAEC,IAAI,CAAEJ,WAAY,CAAC,CAAC,CAEzI,GAAIM,qBAAqB,EAAI,EAAE,EAAIN,WAAW,GAAK,CAAC,CAAE,CACpDC,cAAc,CAAC,CAAC,CAAC,CACnB,CAEAF,eAAe,CAAC,CAAEM,gBAAgB,CAAEC,qBAAqB,CAAEC,UAAW,CAAC,CAAC,CAC1E,CAAC,CAAE,CAACP,WAAW,CAAEE,MAAM,CAAEC,OAAO,CAAEC,IAAI,CAAEL,eAAe,CAAEE,cAAc,CAAC,CAAC,CAEzE,KAAM,CAAAQ,gBAAgB,CAAIC,IAAI,EAAK,CACjC,GAAIA,IAAI,EAAI,CAAC,EAAIA,IAAI,EAAIZ,YAAY,CAACS,UAAU,CAAE,CAChDN,cAAc,CAACS,IAAI,CAAC,CAEpBC,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,iBAAiB,CAAGC,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC,CACrE,GAAIF,iBAAiB,CAAE,CAErB,KAAM,CAAAG,iBAAiB,CAAGH,iBAAiB,CAACI,gBAAgB,CAAC,UAAU,CAAC,CACxE,GAAID,iBAAiB,CAACE,MAAM,EAAI,CAAC,CAAE,CACjCL,iBAAiB,CAACM,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAAC,CAC1E,CACF,CACF,CAAC,CAAE,CAAC,CAAC,CACP,CACF,CAAC,CAED,mBACExB,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAACC,EAAE,CAAC,YAAY,CAAAC,QAAA,eACzC7B,IAAA,QACE2B,SAAS,gBAAAG,MAAA,CAAiBxB,WAAW,GAAK,CAAC,CAAG,UAAU,CAAG,EAAE,CAAG,CAChEsB,EAAE,CAAC,YAAY,CACfG,OAAO,CAAEA,CAAA,GAAMhB,gBAAgB,CAACT,WAAW,CAAG,CAAC,CAAE,CAAAuB,QAAA,cAEjD7B,IAAA,QAAKgC,GAAG,CAAEnC,SAAU,CAACoC,GAAG,CAAC,kBAAkB,CAAE,CAAC,CAC3C,CAAC,cAENjC,IAAA,QAAK2B,SAAS,CAAC,gBAAgB,CAAAE,QAAA,CAC5BK,KAAK,CAACC,IAAI,CAAC,CAAEZ,MAAM,CAAEnB,YAAY,CAACS,UAAW,CAAC,CAAE,CAACuB,CAAC,CAAEC,KAAK,gBACxDrC,IAAA,QAEE2B,SAAS,SAAAG,MAAA,CAAUxB,WAAW,GAAK+B,KAAK,CAAG,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC/D,aAAYA,KAAM,CAClBN,OAAO,CAAEA,CAAA,GAAMhB,gBAAgB,CAACsB,KAAK,CAAG,CAAC,CAAE,CAAAR,QAAA,CAE1CQ,KAAK,CAAG,CAAC,EALLA,KAMF,CACN,CAAC,CACC,CAAC,cAENrC,IAAA,QACE2B,SAAS,iBAAAG,MAAA,CAAkBxB,WAAW,GAAKF,YAAY,CAACS,UAAU,CAAG,UAAU,CAAG,EAAE,CAAG,CACvFe,EAAE,CAAC,aAAa,CAChBG,OAAO,CAAEA,CAAA,GAAMhB,gBAAgB,CAACT,WAAW,CAAG,CAAC,CAAE,CAAAuB,QAAA,cAEjD7B,IAAA,QAAKgC,GAAG,CAAElC,UAAW,CAACmC,GAAG,CAAC,mBAAmB,CAAE,CAAC,CAC7C,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}